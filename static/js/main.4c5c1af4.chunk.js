(window["webpackJsonpfront-assessment"]=window["webpackJsonpfront-assessment"]||[]).push([[0],{33:function(e,t,a){e.exports=a.p+"static/media/gnome.44778f64.png"},34:function(e,t,a){e.exports=a.p+"static/media/heart1.878c1e23.svg"},35:function(e,t,a){e.exports=a.p+"static/media/heart2.c729caf9.svg"},36:function(e,t,a){e.exports=a.p+"static/media/heart.ce070b7d.svg"},37:function(e,t,a){e.exports=a.p+"static/media/exit.ead0da35.svg"},39:function(e,t,a){e.exports=a.p+"static/media/404.3c703b8c.jpg"},40:function(e,t,a){e.exports=a(69)},45:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(30),o=a.n(i),s=(a(45),a(1)),l=a(2),c=a(4),m=a(3),u=a(5),h=a(10),d=a(12),p=r.a.createContext(),g=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={user:null,isAllowedVisitor:!1},a.saveVisitorName=function(e){return""!==e&&(localStorage.setItem("BrastlewarkVisitor",JSON.stringify({name:e})),a.setState({isAllowedVisitor:!0,user:e}),!0)},a.deleteUser=function(){localStorage.removeItem("BrastlewarkVisitor"),a.setState({isAllowedVisitor:!1})},a.addRemoveFavorite=function(e){var t=JSON.parse(localStorage.getItem("BrastlewarkVisitor"));void 0===t.favorites?t.favorites=[e]:t.favorites.includes(e)?t.favorites.splice(t.favorites.indexOf(e),1):t.favorites.push(e),localStorage.setItem("BrastlewarkVisitor",JSON.stringify(t))},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("BrastlewarkVisitor"),t=null!==e;this.setState({user:e,isAllowedVisitor:t})}},{key:"render",value:function(){var e=this.state,t=e.user,a=e.isAllowedVisitor;return r.a.createElement(p.Provider,{value:{user:t,isAllowedVisitor:a,saveVisitorName:this.saveVisitorName,addRemoveFavorite:this.addRemoveFavorite,deleteUser:this.deleteUser}},this.props.children)}}]),t}(n.Component),v=function(e){return function(t){function a(){return Object(s.a)(this,a),Object(c.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,t),Object(l.a)(a,[{key:"render",value:function(){var t=this;return r.a.createElement(p.Consumer,null,(function(a){var n=a.user,i=a.isAllowedVisitor,o=a.addRemoveFavorite,s=a.saveVisitorName,l=a.deleteUser;return r.a.createElement(e,Object.assign({user:n,isAllowedVisitor:i,addRemoveFavorite:o,saveVisitorName:s,deleteUser:l},t.props))}))}}]),a}(n.Component)},f=v((function(e){var t=e.component,a=e.isAllowedVisitor,n=e.user,i=e.saveVisitorName;return r.a.createElement(r.a.Fragment,null,a?r.a.createElement(d.a,{to:"/homepage"}):r.a.createElement(d.b,{render:function(e){return r.a.createElement(t,Object.assign({user:n,isAllowedVisitor:a,saveVisitorName:i},e))}}))})),b=a(13),E=a(33),N=a.n(E),O=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={name:""},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(b.a)({},n,r.trim()))},a.handleSubmit=function(e){e.preventDefault(),a.props.saveVisitorName(a.state.name)},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.name;return r.a.createElement("div",null,r.a.createElement("div",{className:"welcomepage"},r.a.createElement("div",{className:"welcomepage-container"},r.a.createElement("div",{className:"welcomepage-container-message u-margin-top-big u-margin-bottom-medium"},r.a.createElement("div",{className:"triangle"}),r.a.createElement("h2",null,"Welcome to"),r.a.createElement("h2",{className:"welcomepage-container-message-name"},"BRASTLEWARK!"),r.a.createElement("p",null,"[ the gnome-town ",r.a.createElement("span",null,":3")," ]")),r.a.createElement("img",{className:"u-margin-bottom-small",src:N.a,alt:"gnome"}),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{className:"input u-margin-bottom-medium",type:"text",name:"name",value:e,onChange:this.handleChange,placeholder:"Tsh! human! what's your name?"}),r.a.createElement("button",{className:""!==e.trim()?"button":"u-is-disabled button",type:"submit"},"Enter the town")),r.a.createElement(h.b,{className:"jump u-margin-top-medium",to:"/homepage"},"Meh! not now... I'll jump the wall"))))}}]),t}(n.Component),j=a(14),y=a(34),w=a.n(y),k=a(35),C=a.n(k),A=v(function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={redirect:!1,redirectToInhabitant:!1,favoriteList:[]},a.handleFavorite=function(e){e.stopPropagation();var t=a.props,n=t.addRemoveFavorite,r=t.inhabitant;t.isAllowedVisitor?(n(r.id),a.updateFavoriteList()):a.setState({redirect:!0})},a.updateFavoriteList=function(){var e=a.props.getFavoriteList,t=JSON.parse(localStorage.getItem("BrastlewarkVisitor"));null!==t&&void 0!==t.favorites&&a.setState({favoriteList:t.favorites},(function(){e()}))},a.redirectToInhabitant=function(){a.setState({redirectToInhabitant:!0})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.updateFavoriteList()}},{key:"render",value:function(){var e=this.props.inhabitant,t=e.name,a=e.age,n=e.id,i=e.hair_color,o=this.state.favoriteList;return this.state.redirect?r.a.createElement(d.a,{to:"/favorites"}):this.state.redirectToInhabitant?r.a.createElement(d.a,{to:"/gnomes/".concat(n)}):r.a.createElement("div",{className:"search-card",onClick:this.redirectToInhabitant},r.a.createElement("div",{className:"search-card-haircolor",style:{backgroundColor:i}}),r.a.createElement("div",{className:"search-card-info"},r.a.createElement("p",{className:"search-card-info-name"},t)," ",r.a.createElement("p",{className:"search-card-info-age"},"age ",r.a.createElement("span",null,a))),r.a.createElement("div",{className:"search-card-heart",onClick:this.handleFavorite},o.includes(n)?r.a.createElement("img",{src:C.a,alt:"heart selected"}):r.a.createElement("img",{src:w.a,alt:"heart not selected"})))}}]),t}(n.Component)),S=a(36),L=a.n(S),V=a(37),I=a.n(V),x=v(function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={redirect:!1},a.deleteUser=function(){a.props.deleteUser(),a.setState({redirect:!0})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.state.redirect?r.a.createElement(d.a,{to:"/"}):r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header-container"},r.a.createElement(h.b,{to:"/homepage",style:{textDecoration:"none"}},r.a.createElement("span",null,"BRASTLEWARK")),r.a.createElement("div",null,r.a.createElement(h.b,{to:"/favorites"},r.a.createElement("img",{src:L.a,alt:"favorites"})),this.props.isAllowedVisitor?r.a.createElement("a",{onClick:this.deleteUser},r.a.createElement("img",{className:"header-container-exit",src:I.a,alt:"logout"})):null)))}}]),t}(n.Component)),F=a(38),P=a.n(F),B=new(function(){function e(){Object(s.a)(this,e)}return Object(l.a)(e,[{key:"getAllHabitants",value:function(){return P.a.get("https://raw.githubusercontent.com/rrafols/mobile_test/master/data.json").then((function(e){return e}))}}]),e}()),H=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={inhabitants:[],paginatedInhabitants:[],itemsPerPage:135,numberOfPages:1,currentPage:1,searchName:"",searchAge:"",searchProfession:"",searchHairColor:"",professionList:[],hairColorList:[],isLoading:!0},a.pagination=function(e,t){var n=a.state.itemsPerPage,r=a.filterInhabitants(e),i=Math.ceil(r.length/n),o=r.slice(n*t-n,n*t);a.setState({inhabitants:e,numberOfPages:i,paginatedInhabitants:o,currentPage:t,isLoading:!1})},a.filterInhabitants=function(e){var t=a.state,n=t.searchName,r=t.searchAge,i=t.searchProfession,o=t.searchHairColor,s=Object(j.a)(e).filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())}));return s=Object(j.a)(s).filter((function(e){return e.age.toString().includes(r)})),s=Object(j.a)(s).filter((function(e){return""===i||e.professions.includes(i)})),s=Object(j.a)(s).filter((function(e){return""===o||e.hair_color.includes(o)}))},a.handleChange=function(e){var t=a.state.inhabitants,n=e.target,r=n.name,i=n.value;a.setState(Object(b.a)({},r,i),(function(){a.pagination(t,1)}))},a.reset=function(){var e=a.state.inhabitants;a.setState({searchName:"",searchAge:"",searchProfession:"",searchHairColor:""},(function(){a.pagination(e,1)}))},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;B.getAllHabitants().then((function(t){var a=t.data.Brastlewark,n=Object(j.a)(new Set(a.reduce((function(e,t){return e.concat(t.professions)}),[]))),r=Object(j.a)(new Set(a.map((function(e){return e.hair_color}))));e.setState({professionList:n,hairColorList:r},(function(){return e.pagination(a,e.state.currentPage)}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.paginatedInhabitants,n=t.numberOfPages,i=t.currentPage,o=t.inhabitants,s=t.searchName,l=t.searchAge,c=t.searchProfession,m=t.searchHairColor,u=t.professionList,h=t.hairColorList,d=t.isLoading;return r.a.createElement("div",null,r.a.createElement(x,null),r.a.createElement("div",{className:"homepage"},r.a.createElement("div",{className:"homepage-container"},r.a.createElement("div",{className:"homepage-searchbox u-margin-bottom-medium"},r.a.createElement("div",{className:"triangle"}),r.a.createElement("input",{className:"homepage-searchbox-name input",type:"text",name:"searchName",value:s,onChange:this.handleChange,placeholder:"Filter Gnomes by name :3"}),r.a.createElement("div",{className:"u-margin-top-small u-margin-bottom-small"},r.a.createElement("input",{className:"input",type:"number",name:"searchAge",value:l,onChange:this.handleChange,placeholder:"age"}),r.a.createElement("span",null),r.a.createElement("select",{className:"select",name:"searchProfession",onChange:this.handleChange,value:c},r.a.createElement("option",{value:""},"profession"),u.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))),r.a.createElement("span",null),r.a.createElement("select",{className:"select",name:"searchHairColor",onChange:this.handleChange,value:m},r.a.createElement("option",{value:""},"Hair Color"),h.map((function(e,t){return r.a.createElement("option",{key:t,value:e,style:{color:e,fontWeight:"700"}},e.toUpperCase())})))),r.a.createElement("a",{className:"button",href:"#0",onClick:this.reset},"reset")),0===a.length?d?r.a.createElement("div",{className:"homepage-empty"},"Loading..."):r.a.createElement("div",{className:"homepage-empty"},"No results\xa0",r.a.createElement("span",null,":(")," "):r.a.createElement("div",{className:"homepage-resultbody"},a.map((function(e){return r.a.createElement(A,{key:e.id,inhabitant:e,getFavoriteList:function(){return null}})})),r.a.createElement("div",{className:"homepage-pagination u-margin-bottom-small u-margin-top-small"},Array.from(Array(n),(function(t,a){var s;return n>1?r.a.createElement("a",(s={className:"button",href:"#0"},Object(b.a)(s,"className",i===a+1?"button u-is-disabled":"button"),Object(b.a)(s,"key",a),Object(b.a)(s,"onClick",(function(){return e.pagination(o,a+1)})),s),a+1):null})))))))}}]),t}(n.Component),R=v(function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={favoriteList:[],name:"Visitor"},a.getFavoriteList=function(){var e=JSON.parse(localStorage.getItem("BrastlewarkVisitor"));null!==e&&a.setState({name:e.name}),null!==e&&void 0!==e.favorites&&B.getAllHabitants().then((function(t){e=t.data.Brastlewark.filter((function(t){return e.favorites.includes(t.id)})),a.setState({favoriteList:e})})).catch((function(e){console.log(e)}))},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getFavoriteList()}},{key:"render",value:function(){var e=this,t=this.props.isAllowedVisitor,a=this.state,n=a.favoriteList,i=a.name;return r.a.createElement("div",null,r.a.createElement(x,null),r.a.createElement("div",{className:"homepage"},r.a.createElement("div",{className:"homepage-container"},r.a.createElement("div",{className:"homepage-searchbox u-margin-bottom-medium favorites-searchbox"},r.a.createElement("div",{className:"triangle"}),r.a.createElement("h1",null,r.a.createElement("span",null,i),", your favorites"),r.a.createElement("h2",null,r.a.createElement("span",null,"("),"AKA Tindegnomer :3",r.a.createElement("span",null,")"))),r.a.createElement("div",{className:"homepage-resultbody"},t?0!==n.length?n.map((function(t){return r.a.createElement(A,{key:t.id,inhabitant:t,getFavoriteList:e.getFavoriteList})})):r.a.createElement("div",{className:"homepage-empty"},"Love isn't in the air\xa0",r.a.createElement("span",null,":(")," "):r.a.createElement("div",{className:"homepage-empty"},r.a.createElement("p",null,"Hey! Who are you? What's your name?"),r.a.createElement("p",null,"You have to be registered to enter here!"),r.a.createElement(h.b,{to:"/welcome",className:"button u-margin-top-medium back"},"Go back to the entrance"))))))}}]),t}(n.Component)),z=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={gnomeInfo:a.props.location.gnomeInfo},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;void 0===this.state.gnomeInfo&&B.getAllHabitants().then((function(t){var a=t.data.Brastlewark.filter((function(t){return t.id===1*e.props.match.params.id}));e.setState({gnomeInfo:a[0]})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.gnomeInfo;return r.a.createElement("div",null,r.a.createElement(x,null),r.a.createElement("div",{className:"gnomedetail"},r.a.createElement("div",{className:"gnomedetail-container"},r.a.createElement("h1",{className:"u-padding-top-small u-margin-bottom-small"},"Gnome details"),void 0===t?r.a.createElement("div",null,"Loading..."):r.a.createElement("div",{className:"gnomedetail-card u-padding-bottom-small"},r.a.createElement("div",{className:"back-button",onClick:function(){return e.props.history.push("/homepage")}},"\xab back"),r.a.createElement("p",{className:"gnomedetail-card-name"},t.name),r.a.createElement("div",{className:"gnomedetail-card-image"},r.a.createElement("img",{src:t.thumbnail,alt:t.name})),r.a.createElement("div",{className:"gnomedetail-card-age"},r.a.createElement("p",null,"age ",r.a.createElement("span",null,t.age)),r.a.createElement("p",null,"w ",r.a.createElement("span",null,t.weight)),r.a.createElement("p",null,"h ",r.a.createElement("span",null,t.height))),r.a.createElement("div",{className:"gnomedetail-card-friends u-margin-top-small"},r.a.createElement("h2",null,"friends"),0===t.friends.length?r.a.createElement("p",null,"Ok, ok... no time for friends, just to work"):r.a.createElement("div",{className:"gnomedetail-card-tagbody"},t.friends.map((function(e,t){return r.a.createElement("span",{key:t},e)})))),r.a.createElement("div",{className:"gnomedetail-card-professions u-margin-top-small"},r.a.createElement("h2",null,"professions"),0===t.professions.length?r.a.createElement("p",null,"Nice life..."):r.a.createElement("div",{className:"gnomedetail-card-tagbody"},t.professions.map((function(e,t){return r.a.createElement("span",{key:t},e)}))))))))}}]),t}(n.Component),T=a(39),U=a.n(T),W=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(x,null),r.a.createElement("div",{className:"homepage"},r.a.createElement("div",{className:"homepage-container"},r.a.createElement("div",{className:"notfound"},r.a.createElement("p",null,"I'm doing some changes on the deployment"),r.a.createElement("p",null,"Please, come back later. Sorry!"),r.a.createElement("img",{src:U.a,alt:"404 - Not Found"})))))}}]),t}(n.Component),D=(a(68),function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(g,null,r.a.createElement(h.a,{basename:"/hitza"},r.a.createElement(d.d,null,r.a.createElement(d.a,{exact:!0,path:"/hitza/",to:"/hitza/welcome"}),r.a.createElement(d.a,{exact:!0,path:"/hitza/gnomes",to:"/hitza/welcome"}),r.a.createElement(f,{exact:!0,path:"/hitza/welcome",component:O}),r.a.createElement(d.b,{exact:!0,path:"/hitza/homepage",component:H}),r.a.createElement(d.b,{exact:!0,path:"/hitza/favorites",component:R}),r.a.createElement(d.b,{exact:!0,path:"/hitza/gnomes/:id",component:z}),r.a.createElement(d.b,{component:W}))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[40,1,2]]]);
//# sourceMappingURL=main.4c5c1af4.chunk.js.map